# Redis 基本配置
bind 0.0.0.0            # 监听所有接口
protected-mode yes      # 开启保护模式
port 6379               # 默认端口

# 密码设置
requirepass your_secure_password  # 设置密码

# RDB 持久化设置
save 900 1              # 每 900 秒（15 分钟）至少有 1 次写操作
save 300 10             # 每 300 秒（5 分钟）至少有 10 次写操作
save 60 10000           # 每 60 秒（1 分钟）至少有 10000 次写操作

# AOF 持久化设置
appendonly yes          # 启用 AOF 持久化
appendfsync everysec    # 每秒同步一次 AOF
# appendfsync always     # 若需更高安全性，可以使用此选项，但会影响性能
# appendfsync no         # 关闭同步，速度快但不安全

# AOF 文件名
appendfilename "appendonly.aof"  # AOF 文件名

# 日志级别
loglevel notice         # 日志级别
logfile "redis.log"     # 日志文件名

# 内存管理
maxmemory 256mb         # 设置最大内存
maxmemory-policy allkeys-lru  # 当达到最大内存时，使用 LRU 策略

# 其他设置
disable-commands FLUSHDB FLUSHALL  # 禁用某些命令（可选）
